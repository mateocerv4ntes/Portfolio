---
// src/components/Header.astro
---

<style>
	/* ---------------- header ---------------- */
	.header {
		position: sticky;
		top: 0;
		z-index: 2000; /* above overlay */
		background-color: #1b1d35;
		padding: 1.5rem 2.5rem;
		display: flex;
		justify-content: space-between;
		align-items: center;

	}

	.header h1 {
        font-weight: 600;
        color: #fafafa;
        margin: 0;
        text-decoration: none;
        font-size: 1.8rem;
	}

    .header h1 a {
        font-weight: 600;
        color: #fafafa;
        margin: 0;
        text-decoration: none;
        font-size: 1.8rem;
    }

	/* ---------------- navigation ---------------- */
	nav {
		display: flex;
		gap: 1.8rem;
	}

	nav a {
        font-family: 'Chivo Mono', monospace;
        color: #fafafa;
        text-decoration: none;
        font-weight: 500;
	}

    nav a:hover {
        text-decoration: underline;
    }

	/* ---------------- hamburger ---------------- */
	.hamburger {
		display: none;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		gap: 5px;
		width: 30px;
		height: 24px;
		cursor: pointer;
		z-index: 2100; /* above overlay */
	}

	.hamburger span {
		display: block;
		width: 25px;
		height: 3px;
		background: #fafafa;
		border-radius: 2px;
		transition: all 0.3s ease;
	}

	/* X animation */
	.hamburger.active span:nth-child(1) {
		transform: rotate(45deg) translate(5px, 5px);
	}

	.hamburger.active span:nth-child(2) {
		opacity: 0;
	}

	.hamburger.active span:nth-child(3) {
		transform: rotate(-45deg) translate(6px, -6px);
	}

	/* ---------------- Overlay ---------------- */
	.overlay {
		display: none;
		position: fixed;
		inset: 0;
		background: #fafafa;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		gap: 2rem;
		z-index: 1000; /* under header */
	}

	.overlay.active {
		display: flex;
	}

	.overlay a {
        font-family: 'Chivo Mono', monospace;
        color: #1b1d35;
        text-decoration: none;
        font-weight: 500;
        font-size: 1.5rem;
	}

	.overlay a:hover {
        text-decoration: underline;
	}

    .overlay-subpages {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: -.5rem; /* space from main links */
        gap: 0.5rem;
    }

    .overlay-subpages .subpage-link {
        font-size: 1rem; /* smaller than main overlay links */
        color: #1b1d35;
        text-decoration: none;
    }

    .overlay-subpages .subpage-link:hover {
        opacity: 1;
    }
	/* ---------------- Responsive ---------------- */
	@media (max-width: 768px) {
		nav {
			display: none; /* hide desktop nav */
		}
		.hamburger {
			display: flex; /* show hamburger */
		}
	}
</style>

<header class="header">
	<div>
		<a href="/photo"><h1>Mateo Cervantes</h1></a>
	</div>

	<nav>
		<a href="/photo">Work</a>
		<a href="/contact">Contact</a>
		<a href="/about">About</a>
	</nav>

	<div class="hamburger" id="hamburger">
		<span></span>
		<span></span>
		<span></span>
	</div>
</header>

<div class="overlay" id="overlay">
	<a href="/photo/index">Work</a>
    <div class="overlay-subpages">
		<a href="/people" class="subpage-link">People</a>
		<a href="/sports" class="subpage-link">Sports</a>
        <a href="/events" class="subpage-link">Events</a>
		<a href="/places" class="subpage-link">Places</a>
	</div>
	<a href="/contact">Contact</a>
	<a href="/about">About</a>
</div>

<script>
	const hamburger = document.getElementById("hamburger");
	const overlay = document.getElementById("overlay");

	// Toggle overlay and hamburger X
	if (hamburger && overlay) {
		hamburger.addEventListener("click", () => {
			hamburger.classList.toggle("active");
			overlay.classList.toggle("active");
		});

		// Close overlay when clicking a link inside it
		overlay.querySelectorAll("a").forEach(link => {
			link.addEventListener("click", () => {
				hamburger.classList.remove("active");
				overlay.classList.remove("active");
			});
		});
	}
</script>
